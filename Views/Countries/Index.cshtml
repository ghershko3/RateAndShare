@model IEnumerable<RateAndShare.Models.Country>

@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<div id="bingMap" style="width:600px;height:400px;"></div>
<div>
    @foreach (var item in Model)
    {
        <div>
            @item.Name has @item.Users.Count users
        </div>
    }
</div>
<script type="text/javascript"
        src="https://www.bing.com/api/maps/mapcontrol?callback=bingMapCallback&key=8jdU9kPTCEzVmyT3jRkU~rm3ZVd7SbAdEPp8lygIm8A~AuLnSHivAFETHCaowja_dJ75w4ff92UyxgW5RNfOMUaAVfTUeYeCj5oKEzjm4ItE&setLang=en"
        async defer></script>
<script type="text/javascript">
    function bingMapCallback() {
        var map = new Microsoft.Maps.Map(document.getElementById("bingMap"), {
            credentials: '8jdU9kPTCEzVmyT3jRkU~rm3ZVd7SbAdEPp8lygIm8A~AuLnSHivAFETHCaowja_dJ75w4ff92UyxgW5RNfOMUaAVfTUeYeCj5oKEzjm4ItE',
            center: new Microsoft.Maps.Location(0, 0),
            zoom: 1,
        });

        // Add an infobox to the map so that we can display it when a pushpin is clicked.
        infobox = new Microsoft.Maps.Infobox(map.getCenter(), { visible: false });
        infobox.setMap(map);
    }
</script>